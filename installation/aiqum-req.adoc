---
sidebar: sidebar 
permalink: installation/aiqum-req.html 
keywords: keystone unified manager prerequisites, aiqum config keystone 
summary: Keystone Unified Managerの前提条件 
---
= Active IQ Unified Manager の前提条件
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Keystoneコレクタを設定して有効にするには、Active IQ Unified Manager （Unified Manager）を特定の設定でインストールする必要があります。

Unified Manager 9.7以降がインストールされていて、APIゲートウェイ機能を有効にしたUnified Managerサーバが設定されていることを確認してください。

Unified Managerのインストールについては、次のリンクを参照してください。

* https://docs.netapp.com/us-en/active-iq-unified-manager/install-vapp/concept_requirements_for_installing_unified_manager.html["VMware vSphereシステムへのUnified Managerのインストール"]
* https://docs.netapp.com/us-en/active-iq-unified-manager/install-linux/concept_requirements_for_install_unified_manager.html["Linux システムへの Unified Manager のインストール"]




== Unified Managerユーザを作成します

Keystoneコレクタで使用状況とパフォーマンスのデータを収集するために、Unified Managerで次のユーザを作成する必要があります。

* Keystoneコレクタのサービスアカウント `Operator` ユーザロール。このユーザは、使用状況データを収集するために必要です。Keystoneコレクタサービスは、APIを通じてUnified Managerと通信します。このサービスアカウントは通信に必要です。
* A `Database` を使用したユーザアカウント `Report Schema` ロール。このユーザは、パフォーマンスデータの収集に必要です。


ユーザの作成、ユーザタイプ、およびユーザロールについては、次のリンクを参照してください。

* https://docs.netapp.com/us-en/active-iq-unified-manager/config/reference_definitions_of_user_types.html["ユーザタイプの定義"]
* https://docs.netapp.com/us-en/active-iq-unified-manager/config/reference_definitions_of_user_roles.html["ユーザロールの定義"]
* https://docs.netapp.com/us-en/active-iq-unified-manager/config/reference_unified_manager_roles_and_capabilities.html["Unified Manager のユーザロールと機能"]


.手順
. アプリケーション管理者のユーザクレデンシャルを使用してUnified Manager Web UIにログインします。インストール時にデフォルトの管理者ユーザが作成されます。を参照してください https://docs.netapp.com/us-en/active-iq-unified-manager/config/task_access_unified_manager_web_ui.html["Unified Manager Web UI にアクセスします"]。
. を使用してユーザを作成します `Operator role`。を参照してください https://docs.netapp.com/us-en/active-iq-unified-manager/config/task_add_users.html["ユーザを追加する"]。
. を作成します `Database` ユーザ：を参照してください https://docs.netapp.com/us-en/active-iq-unified-manager/config/task_create_database_user.html["データベースユーザを作成しています"]。


image:um-add-user.png[""]



== Unified ManagerでAPIゲートウェイを有効にします

Keystoneコレクタは、Unified Manager APIゲートウェイを使用してONTAP クラスタと通信します。

APIゲートウェイは、Web UIまたはUnified Manager CLIからいくつかのコマンドを実行して有効にすることができます。



=== Web UIからAPIゲートウェイを有効にします

Unified Manager Web UIからAPIゲートウェイを有効にするには、次の手順を実行します。

.手順
. アプリケーション管理者のユーザクレデンシャルを使用してUnified Manager Web UIにログインします。インストール時にデフォルトの管理者ユーザが作成されます。を参照してください https://docs.netapp.com/us-en/active-iq-unified-manager/config/task_access_unified_manager_web_ui.html["Unified Manager Web UI にアクセスします"]。
. APIゲートウェイの有効化の詳細については、を参照してください https://docs.netapp.com/us-en/active-iq-unified-manager/config/concept_api_gateway.html["API ゲートウェイを有効にしてい"]。




=== Unified Manager CLIを使用してAPIゲートウェイを有効にします

以下の手順では、Unified Manager CLIからのAPIゲートウェイアクセスを有効にする方法について説明します。

サポートされているコマンドの詳細については、を参照してください https://docs.netapp.com/us-en/active-iq-unified-manager/events/reference_supported_unified_manager_cli_commands.html["Unified Manager の CLI コマンドがサポートされています"]。

.手順
. Unified Managerサーバで、SSHセッションを開始してUnified Manager CLIにログインします。
`um cli login -u _<umadmin>_`
. APIゲートウェイがすでに有効になっているかどうかを確認します。
`um option list api.gateway.enabled`の場合、返される値はです `true`APIゲートウェイ機能が有効になっていることを示します。
. の場合、返される値はです `false`では、次のコマンドを実行してAPIゲートウェイ機能を有効にします。
`um option set api.gateway.enabled=true`
. Unified Managerサーバを再起動して設定を適用します。情報：
+
** Linuxシステムの場合は、を参照してください https://docs.netapp.com/us-en/active-iq-unified-manager/install-linux/task_restart_unified_manager.html["Unified Manager を再開しています"]。
** VMware vSphereシステムについては、を参照してください https://docs.netapp.com/us-en/active-iq-unified-manager/install-vapp/task_restart_unified_manager_virtual_machine.html["Unified Manager 仮想マシンを再起動しています"]。



