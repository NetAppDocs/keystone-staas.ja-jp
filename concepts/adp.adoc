---
sidebar: sidebar 
permalink: concepts/adp.html 
keywords: data protection advanced 
summary: 高度なデータ保護アドオンサービスを使用して、ミッションクリティカルなワークロードの効率的なデータ保護を実現します。 
---
= Keystoneの高度なデータ保護アドオン
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
Keystone STaaS サブスクリプションで、高度なデータ保護（ADP）アドオンサービスに加入できます。標準の Keystone サービスには SnapMirror、SnapVault、および Snapshot を使用したデフォルトのデータ保護が含まれていますが、このアドオンサービスは NetApp MetroCluster テクノロジを使用して、リカバリポイント目標（RPO）0 でミッションクリティカルなワークロードの効率的なデータ保護を保証します。

Keystone高度なデータ保護サービスでは、データをセカンダリサイトに同期的にミラーリングできます。プライマリサイトで災害が発生した場合、データを失うことなくセカンダリサイトが引き継ぐことができます。この機能は、2つのサイト間のlink:https://docs.netapp.com/us-en/ontap-metrocluster["MetroCluster"^]構成を使用してデータ保護を有効にします。高度なデータ保護アドオンサービスは、ファイルおよびブロックストレージサービスにのみ使用できます。このアドオンサービスの一環として、 `Advanced Data-Protect`パフォーマンスサービスレベルがサブスクリプションに割り当てられます。

MetroCluster構成の消費量とヘルスメトリックを監視できます。詳細については、link:../integrations/adp-tab.html["MetroClusterサブスクリプションの消費量と健全性を表示"]を参照してください。



== 価格について

高度なデータ保護アドオンサービスは、各サイトでコミットされた容量に基づいて価格設定されます。これにより、高度なデータ保護サービスの実際のコストを$/TiBで決定できます。アドオン料金は、ソースデータ、ミラーコピー、ミラー化されていないデータなど、サブスクリプションのすべての容量に適用されます。

MetroCluster構成では、各サイトに独自のサブスクリプションが必要であり、各サイトでコミットされた容量に対して個別に課金されます。

次の点に注意してください。

* このサービスは、関連付けられたストレージのコミット済み容量の100%をコミット済み容量として使用します。
* 料金はプライマリサイトとセカンダリサイトの両方に適用され、ソースクラスタと宛先クラスタの両方が対象となります。
* 料金はファイルおよびブロックストレージサービスに対してのみ適用されます。




== サポートされているMetroCluster構成

Keystoneは以下のMetroCluster導入シナリオをサポートします：

アクティブ/パッシブ構成:: この構成では、1 つのサイトのプライマリデータがセカンダリサイトにミラーリングされます。たとえば、サイト A で 100 TiB の論理データが消費されると、サイト B に複製されます。両方のサイトで同一のサブスクリプションが必要です：
+
--
* *サブスクリプション1（サイトA）：* 100 TiBストレージサービス+ 100 TiB ADP
* *サブスクリプション2（サイトB）：* 100 TiB ストレージサービス + 100 TiB ADP


--
完全ミラーリングによるアクティブ/アクティブ構成:: この構成では、両方のサイトが双方向にミラーリングされたプライマリデータをホストします。たとえば、サイトAの100TiBのプライマリデータがサイトBにミラーリングされ、サイトBの100TiBのプライマリデータがサイトAにミラーリングされます。両方のサイトで、合計容量に対するサブスクリプションが必要です：
+
--
* *サブスクリプション1（サイトA）：* 200 TiBストレージサービス+ 200 TiB ADP
* *サブスクリプション2（サイトB）：* 200 TiB ストレージサービス + 200 TiB ADP


--
部分的なミラーリングを使用したアクティブ/アクティブ構成:: この構成では、一方のサイトがミラー化されたデータをホストし、もう一方のサイトがミラー化されたデータとミラー化されていないデータの両方をホストします。たとえば、サイトAの100TiBのプライマリデータがサイトBにミラーリングされ、サイトBではミラーリングされていない追加の100TiBのデータもホストされます。サブスクリプションは各サイトの容量によって異なります：
+
--
* *サブスクリプション1（サイトA）：* 100 TiBストレージサービス+ 100 TiB ADP
* *サブスクリプション2（サイトB）：* 200 TiB ストレージサービス + 200 TiB ADP


--


次の図は、サポートされているMetroCluster構成を示しています：

image:mcc-1.png["3つのMetroCluster構成を示す図：対称ミラーリングによるアクティブ/パッシブ、完全な双方向ミラーリングによるアクティブ/アクティブ、部分的なミラーリングによるアクティブ/アクティブ"]
